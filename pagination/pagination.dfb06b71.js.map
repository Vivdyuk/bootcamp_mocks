{"mappings":"YAAAA,QAAQC,IAAI,QACZ,IAQMC,EAAOC,SAASC,cAAc,UAE9BC,EAAY,SAACC,EAAUC,GAC3B,IAAMC,EAAQD,EAASE,OAAOC,KAAKH,GAAQI,QAAO,SAACC,EAAKC,GACtD,MAAO,GAASC,OAANF,GAAaE,OAAPD,EAAI,KAAeC,OAAZP,EAAOM,GAAK,OAClC,KAAO,GAEV,OAAOE,MAAM,GAAcD,OAfZ,yCAeuBA,OAAXR,GAAiBQ,OAANN,IACnCQ,MAAK,SAAAC,GAGJ,GAFAjB,QAAQC,IAAIgB,IAEPA,EAASC,GACZ,MAAM,IAAIC,MAAM,uBAAgCL,OAATR,IAEzC,OAAOW,EAASG,UAEjBC,OAAM,SAAAC,GAEL,OADAtB,QAAQC,IAAIqB,GACLA,EAAMC,YAIbC,EAAe,SAACC,EAAQC,EAAUpB,GACtC,IAgBMqB,EAASC,MAAMC,QAAQH,GACzBA,EAASI,IAjBa,CACxBC,MAAO,SAACC,G,MACN,0BAC6DlB,OAA5CkB,EAAKC,GAAG,sCAA8CnB,OAAVkB,EAAKE,KAAK,sBAGzEC,MAAO,SAACC,G,MACN,gEAGwCtB,OADAsB,EAAKC,MAAM,sDACDvB,OAAVsB,EAAKE,KAAK,kCAOnBhC,IAAWiC,KAAK,IAC/C,MAAezB,OAATY,EAAS,QAEnBD,EAAOe,mBAAmB,YAAab,IAKzCtB,EAAU,SACPW,MAAK,SAACyB,G,OAASjB,EAAatB,EAAMuC,EAAM,YAE3CvC,EAAKwC,iBAAiB,SAAS,SAACC,GAED,OAAzBA,EAAMlB,OAAOmB,SAIjBvC,EAAU,QAAS,CACjBwC,OAAQF,EAAMlB,OAAOqB,QAAQb,GAC7Bc,OAAQ,IAEP/B,MAAK,SAAAmB,GACJX,EAAamB,EAAMlB,OAAQU,EAAO,e","sources":["src/pagination/pagination.js"],"sourcesContent":["console.log('here');\nconst BASE_URL = 'https://jsonplaceholder.typicode.com/';\n/**\n *  створити на початку список наших юзерів. (Нам буде достатньо просто імʼя)  endpoint = users\n *  По кліку під цим юзером ми захочемо побачити список постів, якій створив саме він endpoint = posts\n *  Якщо ми клікнули ще раз по нашому юзеру, то наші пости мають ховатись\\видалятись\n *\n */\n\nconst list = document.querySelector('.users');\n//-----------------------------------------------------------------------------------------------\nconst fetchData = (endpoint, params /*обʼєкт*/) => {\n  const query = params ? Object.keys(params).reduce((acc, key) => {\n    return `${acc}${key}=${params[key]}&`;\n  }, '?') : '';\n\n  return fetch(`${BASE_URL}${endpoint}${query}`)\n    .then(response => {\n      console.log(response);\n\n      if (!response.ok) {\n        throw new Error(`Sry cannot find any ${endpoint}`);\n      }\n      return response.json();\n    })\n    .catch(error => {\n      console.log(error);\n      return error.message;\n    });\n};\n//-----------------------------------------------------------------------------------------------\nconst createMarkup = (target, elements, endpoint) => {\n  const possibleCallbacks = {\n    users: (user) => (\n      `\n        <li data-id=\"${user.id}\"><p style=\"pointer-events: none\">${user.name}</p></li>\n      `\n    ),\n    posts: (post) => (\n      `\n        <div>\n            <p style=\"pointer-events: none\">${post.title}</p>\n            <p style=\"pointer-events: none\">${post.body}</p>\n        </div>\n      `\n    ),\n  };\n\n  const result = Array.isArray(elements)\n    ? elements.map(possibleCallbacks[endpoint]).join('')\n    : `<p>${elements}</p>`;\n\n  target.insertAdjacentHTML('beforeend', result);\n};\n//-----------------------------------------------------------------------------------------------\n\n\nfetchData('users')\n  .then((data) => createMarkup(list, data, 'users'));\n\nlist.addEventListener('click', (event) => {\n\n  if (event.target.tagName !== 'LI') {\n    return;\n  }\n\n  fetchData('posts', {\n    userId: event.target.dataset.id,\n    _limit: 3,\n  })\n    .then(posts => {\n      createMarkup(event.target, posts, 'posts');\n    });\n});\n\n\n"],"names":["console","log","$ced3be30cfc13866$var$list","document","querySelector","$ced3be30cfc13866$var$fetchData","endpoint","params","query","Object","keys","reduce","acc","key","concat","fetch","then","response","ok","Error","json","catch","error","message","$ced3be30cfc13866$var$createMarkup","target","elements","result","Array","isArray","map","users","user","id","name","posts","post","title","body","join","insertAdjacentHTML","data","addEventListener","event","tagName","userId","dataset","_limit"],"version":3,"file":"pagination.dfb06b71.js.map"}